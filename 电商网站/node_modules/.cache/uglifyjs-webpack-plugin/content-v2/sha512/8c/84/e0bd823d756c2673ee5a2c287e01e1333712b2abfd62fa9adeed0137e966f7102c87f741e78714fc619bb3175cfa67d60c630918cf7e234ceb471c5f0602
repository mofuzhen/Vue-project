{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{13:function(t,s,a){\"use strict\";var i=a(6);a.n(i).a},45:function(t,s,a){\"use strict\";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"cart\"},[t._m(0),t._v(\" \"),a(\"div\",{staticClass:\"cart-content\"},t._l(t.cartList,function(s,i){return a(\"div\",{key:s.id,staticClass:\"cart-content-main\"},[a(\"div\",{staticClass:\"cart-info\"},[a(\"img\",{attrs:{src:t.productDictList[s.id].image}}),t._v(\" \"),a(\"span\",[t._v(t._s(t.productDictList[s.id].name))])]),t._v(\" \"),a(\"div\",{staticClass:\"cart-price\"},[t._v(\"\\n                ￥ \"+t._s(t.productDictList[s.id].cost)+\"\\n            \")]),t._v(\" \"),a(\"div\",{staticClass:\"cart-count\"},[a(\"span\",{staticClass:\"cart-count-minus\",on:{click:function(s){t.handleCount(i,-1)}}},[t._v(\"-\")]),t._v(\"\\n                \"+t._s(s.count)+\"\\n                \"),a(\"span\",{staticClass:\"cart-count-add\",on:{click:function(s){t.handleCount(i,1)}}},[t._v(\"+\")])]),t._v(\" \"),a(\"div\",{staticClass:\"cart-cost\"},[t._v(\"￥\"+t._s(t.productDictList[s.id].cost*s.count))]),t._v(\" \"),a(\"div\",{staticClass:\"cart-delete\"},[a(\"span\",{staticClass:\"cart-control-delete\",on:{click:function(s){t.handleDelete(i)}}},[t._v(\"删除\")])])])})),t._v(\" \"),t.cartList.length?t._e():a(\"div\",{staticClass:\"cart-empty\"},[t._v(\"\\n        购物车为空\\n    \")]),t._v(\" \"),t.cartList.length?a(\"div\",{staticClass:\"cart-promotion\"},[a(\"span\",[t._v(\"使用优惠码:\")]),t._v(\" \"),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.promotionCode,expression:\"promotionCode\"}],attrs:{type:\"text\"},domProps:{value:t.promotionCode},on:{input:function(s){s.target.composing||(t.promotionCode=s.target.value)}}}),t._v(\" \"),a(\"span\",{staticClass:\"cart-control-promotion\",on:{click:t.handlePromotion}},[t._v(\"验证\")])]):t._e(),t._v(\" \"),a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.cartList.length,expression:\"cartList.length\"}],staticClass:\"cart-footer\"},[a(\"div\",{staticClass:\"cart-footer-desc\"},[t._v(\"\\n            共计\"+t._s(t.countAll)+\"件商品\\n        \")]),t._v(\" \"),a(\"div\",{staticClass:\"cart-footer-desc\"},[t._v(\"\\n            应付总额￥\"),a(\"span\",[t._v(t._s(t.costAll-t.promotion))]),t._v(\" \"),t.promotion?[t._v(\"\\n                (优惠￥\"),a(\"span\",[t._v(t._s(t.promotion))]),t._v(\")\\n            \")]:t._e()],2),t._v(\" \"),a(\"div\",{staticClass:\"cart-footer-desc\"},[a(\"div\",{staticClass:\"cart-control-order\",on:{click:t.handleBuy}},[t._v(\"现在结算\")])])])])};i._withStripped=!0;var o=a(1),c={data:()=>({productList:o.a,promotion:0,promotionCode:\"\"}),computed:{cartList(){return this.$store.state.cartList},productDictList(){const t={};return this.productList.forEach(s=>{t[s.id]=s}),t},countAll(){let t=0;return this.cartList.forEach(s=>{t+=s.count}),t},costAll(){let t=0;return this.cartList.forEach(s=>{t+=this.productDictList[s.id].cost*s.count}),t}},methods:{handleCount(t,s){s<0&&1===this.cartList[t].count||this.$store.commit(\"handleCount\",{index:t,num:s})},handleDelete(t){this.$store.commit(\"handleDelete\",t)},handleBuy(){this.$store.dispatch(\"buy\").then(()=>{window.alert(\"购买成功!\")})},handlePromotion(){\"\"===this.promotionCode?alert(\"请输入优惠码\"):\"vue.js\"!==this.promotionCode?alert(\"验证码错误\"):this.promotion=500}}},n=(a(13),a(0)),e=Object(n.a)(c,i,[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"div\",{staticClass:\"cart-header\"},[a(\"div\",{staticClass:\"cart-header-title\"},[t._v(\"购物清单\")]),t._v(\" \"),a(\"div\",{staticClass:\"cart-header-main\"},[a(\"div\",{staticClass:\"cart-info\"},[t._v(\"商品信息\")]),t._v(\" \"),a(\"div\",{staticClass:\"cart-price\"},[t._v(\"商品单价\")]),t._v(\" \"),a(\"div\",{staticClass:\"cart-count\"},[t._v(\"商品数量\")]),t._v(\" \"),a(\"div\",{staticClass:\"cart-cost\"},[t._v(\"小计\")]),t._v(\" \"),a(\"div\",{staticClass:\"cart-delete\"},[t._v(\"删除\")])])])}],!1,null,\"fe75ae4a\",null);e.options.__file=\"components/cart.vue\";s.default=e.exports},6:function(t,s){}}]);","extractedComments":[]}