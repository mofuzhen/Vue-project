{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{43:function(t,s){},44:function(t,s,c){\"use strict\";var a=c(43);c.n(a).a},45:function(t,s,c){\"use strict\";c.r(s);var a=function(){var t=this,s=t.$createElement,c=t._self._c||s;return c(\"div\",{staticClass:\"cart\"},[t._m(0),t._v(\" \"),c(\"div\",{staticClass:\"cart-content\"},t._l(t.cartList,function(s,a){return c(\"div\",{key:s.id,staticClass:\"cart-content-main\"},[c(\"div\",{staticClass:\"cart-info\"},[c(\"img\",{attrs:{src:t.productDictList[s.id].image}}),t._v(\" \"),c(\"span\",[t._v(t._s(t.productDictList[s.id].name))])]),t._v(\" \"),c(\"div\",{staticClass:\"cart-price\"},[t._v(\"\\n                ￥ \"+t._s(t.productDictList[s.id].cost)+\"\\n            \")]),t._v(\" \"),c(\"div\",{staticClass:\"cart-count\"},[c(\"span\",{staticClass:\"cart-count-minus\",on:{click:function(s){t.handleCount(a,-1)}}},[t._v(\"-\")]),t._v(\"\\n                \"+t._s(s.count)+\"\\n                \"),c(\"span\",{staticClass:\"cart-count-add\",on:{click:function(s){t.handleCount(a,1)}}},[t._v(\"+\")])]),t._v(\" \"),c(\"div\",{staticClass:\"cart-cost\"},[t._v(\"￥\"+t._s(t.productDictList[s.id].cost*s.count))]),t._v(\" \"),c(\"div\",{staticClass:\"cart-delete\"},[c(\"span\",{staticClass:\"cart-control-delete\",on:{click:function(s){t.handleDelete(a)}}},[t._v(\"删除\")])])])})),t._v(\" \"),t.cartList.length?t._e():c(\"div\",{staticClass:\"cart-empty\"},[t._v(\"\\n        购物车为空\\n    \")]),t._v(\" \"),c(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.cartList.length,expression:\"cartList.length\"}],staticClass:\"cart-footer\"},[c(\"div\",{staticClass:\"cart-footer-desc\"},[t._v(\"\\n            共计\"+t._s(t.countAll)+\"件商品\\n        \")]),t._v(\" \"),c(\"div\",{staticClass:\"cart-footer-desc\"},[t._v(\"\\n            应付总额￥\"),c(\"span\",[t._v(t._s(t.costAll))])]),t._v(\" \"),c(\"div\",{staticClass:\"cart-footer-desc\"},[c(\"div\",{staticClass:\"cart-control-order\",on:{click:t.handleBuy}},[t._v(\"现在结算\")])])])])};a._withStripped=!0;var i=c(39),e={data(){return{productList:i.a,cartList:this.$store.state.cartList}},computed:{productDictList(){const t={};return this.productList.forEach(s=>{t[s.id]=s}),t},countAll(){let t=0;return this.cartList.forEach(s=>{t+=s.count}),t},costAll(){let t=0;return this.cartList.forEach(s=>{t+=this.productDictList[s.id].cost*s.count}),t}},methods:{handleCount(t,s){s<0&&1===this.cartList[t].count||this.$store.commit(\"handleCount\",{index:t,num:s})},handleDelete(t){this.$store.commit(\"handleDelete\",t)},handleBuy(){this.$store.dispatch(\"buy\").then(()=>{alert(\"购买成功!\")})}}},n=(c(44),c(0)),r=Object(n.a)(e,a,[function(){var t=this,s=t.$createElement,c=t._self._c||s;return c(\"div\",{staticClass:\"cart-header\"},[c(\"div\",{staticClass:\"cart-header-title\"},[t._v(\"购物清单\")]),t._v(\" \"),c(\"div\",{staticClass:\"cart-header-main\"},[c(\"div\",{staticClass:\"cart-info\"},[t._v(\"商品信息\")]),t._v(\" \"),c(\"div\",{staticClass:\"cart-price\"},[t._v(\"商品单价\")]),t._v(\" \"),c(\"div\",{staticClass:\"cart-count\"},[t._v(\"商品数量\")]),t._v(\" \"),c(\"div\",{staticClass:\"cart-cost\"},[t._v(\"小计\")]),t._v(\" \"),c(\"div\",{staticClass:\"cart-delete\"},[t._v(\"删除\")])])])}],!1,null,\"fe75ae4a\",null);r.options.__file=\"components/cart.vue\";s.default=r.exports}}]);","extractedComments":[]}